Примерная реализация задачи:

Дано три хранилища: база данных (mysql), кэш (redis) и API (http)
Необходимо: по id пользователя вернуть данные из хранилища
Условия:
Если данные есть в кэше - вернуть из кэша.
Если данных в кэше нет, то взять из базы, затем закэшировать и вернуть.
Если данных нет ни в кэше, ни в базе, то взять из API, сохранить в базе, закэшировать и вернуть.

В API данные есть всегда.
Реализовывать подключения к хранилищам и непосредственно запросы к ним не нужно, достаточно пустых методов в классах.


interface Storage {
public function getUser($userId);
}

interface StorageSave {
public function save();
}